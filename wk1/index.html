<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Triangle</title>
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<script id="vertex-shader" type="x-shader/x-vertext">
		attribute vec4 vPosition;
		void main(){
			gl_Position = vPosition;
		}
	</script>
	<script id="fragment-shader" type="x-shader/x-fragment">
		precision mediump float;
		void main(){
			gl_FragColor = vec4(0.0, 1.0, 1.0, 1.0);
		}
	</script>
	<script src="JS/webgl-utils.js"></script>
	<script src="JS/initShaders.js"></script>
</head>
<body>
	<canvas id="gl-canvas" width="512" height="512">
		No HTML5? Seriously guys, it's 2015, call IT.
	</canvas>
	<script>

		var gl;
		var points;

		window.onload = function init(){
			var canvas = document.getElementById("gl-canvas");
			gl = WebGLUtils.setupWebGL(canvas);
			if(!gl){alert("WebGL isn't available");}

			var vertices = new Float32Array([-1,-1,0,1,1,-1]);

			gl.viewport(0,0,canvas.width,canvas.height);
			gl.clearColor(1.0,1.0,1.0,1.0);

			//Load shaders, init attr buffers
			var program = initShaders(gl, "vertex-shader","fragment-shader");
			gl.useProgram(program);

			//data -> GPU
			var bufferId = gl.createBuffer();
			gl.bindBuffer(gl.ARRAY_BUFFER, bufferId);
			gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);

			//assoc shaders w data buffer
			var vPosition = gl.getAttribLocation(program, "vPosition");
			gl.vertexAttribPointer(vPosition, 2, gl.FLOAT, false, 0, 0);
			gl.enableVertexAttribArray(vPosition);

			render();
		};

		function render(){
			gl.clear(gl.COLOR_BUFFER_BIT);
			gl.drawArrays(gl.TRIANGLES, 0, 3);
		}
	</script>
</body>
</html>
